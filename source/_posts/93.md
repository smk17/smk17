---
title: 〖原创〗环形缓冲区及多线程
categories: 作品
date: 2016-12-15 20:09:28
tags: [多线程,环形缓冲区,互斥锁]
---
使用经典的生产者-消费者问题做例子。创建三个生产者线程（P1,P2,P3）和一个消费者线程（C1），生产者和消费者线程共享一个长度为2kb的环型公共缓冲区，生产者向缓冲区写入消息，消费者从缓冲区中取走消息显示到屏幕。只要缓冲区未满，生产者可将消息送入缓冲区；只要缓冲区未空，消费者可从缓冲区取走一个消息。
每个生产者每隔2s生产一个消息加入缓冲区，并把消息产生时间和内容记录在一个文本中。P1每次生产的数据为26个大写字母，P2每次生产的数据为26个小字母，P3每次生产的数据为10个阿拉伯数字。
消费者C1每隔3s读取缓冲区中的一个消息并将消息内容显示到屏幕上。<!--more-->

### 下载源码
本文章示例可以通过以下命令下载：

~~~ shell
git clone https://github.com/smk17/pthread.git
~~~
下载使用make命令生成即可运行~